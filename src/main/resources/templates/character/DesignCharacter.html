<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{css/style_characterDesign.css}">
    <title>Avatar Creation</title>
</head>

<body>
<div class="container">
    <div class="audio">
        <audio th:src="@{sounds/avatarCreation.mp3}" autoplay loop controls ></audio>
    </div>
    <form class="form" th:action="@{/saveUser}" method="post" enctype="multipart/form-data">

        <div class="option__img" id="avatar">
            <img class="avatar" th:src="@{images/avatarSelections/avatars/type1.png}" >
        </div>


        <div class="option__input">

            <div class="sign">
                <a class="sign" >
                    <img th:src="@{images/femaleSign.png}" onclick="joke()">
                </a>
            </div>

            <div class="option__input--option">
                <div class="input">
                    <input type="radio" class="input1 type" id="type1" th:src="@{images/avatarSelections/icons/type1.png}" name="avatar" value="PorDefecto" onclick="capturarSelection('type1');">
                    <input type="radio" class="input2 type" id="type2" th:src="@{images/avatarSelections/icons/type2.png}" name="avatar" value="Snob" onclick="capturarSelection('type2');">
                    <input type="radio" class="input3 type" id="type3" th:src="@{images/avatarSelections/icons/type3.png}" name="avatar" value="Rubio" onclick="capturarSelection('type3');">
                    <input type="radio" class="input4 type" id="type4" th:src="@{images/avatarSelections/icons/type4.png}" name="avatar" value="Carbon" onclick="capturarSelection('type4');">
                    <input type="radio" class="input5 type" id="type5" th:src="@{images/avatarSelections/icons/type5.png}" name="avatar" value="Simbolo" onclick="capturarSelection('type5');">
                    <input type="radio" class="input6 type" id="type6" th:src="@{images/avatarSelections/icons/type6.png}" name="avatar" value="Informatico" onclick="capturarSelection('type6');">
                </div>


                <div class="name">
                    <input type="text" class="input7 type" id="name" name="name" placeholder=" Nombre de usuario" autocomplete="off">
                </div>
            </div>

            <div class="character__submit">
                <button type="submit" >
                    <img th:src="@{images/saveUserButton.png}" class="character__submit--buttom">
                </button>
            </div>
            <!------------------------------- FUNCION DE PRUEBA NO IMPLEMENTADA AUN -------------------------------------------------->
            <div>
                <script th:inline="javascript">
                    /*<![CDATA[*/
                    function capturar(id) {
                        var avatar = document.getElementById(id);
                        var avatarSrc = avatar.getAttribute("src");
                        var avatarSelection = document.getElementById("avatar");
                        avatarSelection.innerHTML = "<img class='avatar' src='" + avatarSrc + "'>";
                    } /* convierte una variable de javascript en una imagen de html en un proceso CREO
                        POR EL MOMENTO, SI SE BORRA LA OTRA FUNCION Y SE DEJA ESTA, AL HACER CLICK SE MUESTRAN LOS ICONOS ¡¡REVISAR!! */
                    /*]]>*/
                </script>
            </div>
            <!--------------------------------------------------------------------------------------------------------------------->
        </div>
    </form>
</div>
</body>
</html>
<!--funcion script que captura seleccion de input desde un formulario html -->
<script th:inline="javascript">
    function capturarSelection(valor) {
        var imageSelection = document.querySelector('.avatar').src = "/images/avatarSelections/avatars/" + valor + ".png";
        console.log(imageSelection);
        var selection = document.getElementById(valor).value;
        if (selection == null){
            console.log("Debe seleccionar un avatar para continuar");
        }else{
            alert("Avatar seleccionado: " + selection);
        }
        return imageSelection;
        //retorna un valor String de la imagen seleccionada, lo cual podriamos poner en la base(las url de las imagenes) de datos
        // para luego mostrarlo en el perfil del usuario y acceder a el desde el controlador de usuario para mostrarlo en el juego.
    }

    function joke(){
        let sound = new Audio('/sounds/laughs.mp3');
        sound.play();
        alert("JAJA PERO SI NO HAY NADA DE ESO AQUI");
    }
</script>